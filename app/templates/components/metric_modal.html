<!-- templates/components/metric_modal.html -->
<div id="metric-modal" class="metric-modal-overlay" style="display: none;">
    <div class="metric-modal-content">
        <button id="metric-modal-close" class="metric-modal-close">&times;</button>
        
        <div class="metric-modal-header">
            <h2 id="metric-modal-title" class="metric-modal-title">Metric Details</h2>
            <p id="metric-modal-subtitle" class="metric-modal-subtitle">Survey results from all respondents.</p>
        </div>

        <!-- NEW: Legend and Instructions Section -->
        <div class="metric-modal-info">
            <div class="metric-modal-legend">
                <div class="legend-item">
                    <span class="legend-key positive"></span>
                    <span class="legend-label">Pertanyaan Positif</span>
                </div>
                <div class="legend-item">
                    <span class="legend-key negative"></span>
                    <span class="legend-label">Pertanyaan Negatif (skor dibalik)</span>
                </div>
            </div>
            <p class="modal-instructions">
                <i class="fas fa-info-circle"></i> Klik lingkaran untuk melihat detail pertanyaan dan distribusi jawaban.
            </p>
        </div>


        <div id="metric-modal-body" class="metric-modal-body">
            <!-- JS will populate this section -->
            <div class="metric-modal-loader">Loading...</div>
        </div>

        <div id="metric-modal-detail" class="metric-modal-detail">
            <!-- JS will populate question text and chart here -->
            <p id="metric-question-text" class="metric-question-text"></p>
            <div id="metric-distribution-chart" class="metric-distribution-chart"></div>
        </div>
    </div>
</div>